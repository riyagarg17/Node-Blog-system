<div class="row">
    {{#each story}}
    <div class="col-md-4">
        <div class="card mb-4">
            <div class="card-header text-center mb-2">
                {{truncate title 40}}
                {{#if user}}
                {{{editIcon user.id ../user.id id false}}}
                <br>
                {{/if}}
            </div>
            {{#if image}}
            <div id="carouselExampleSlidesOnly" class="carousel slide" data-interval="4000" data-ride="carousel">
                <div class="carousel-inner">
                    {{#each image}}
                    {{#if @first}}
                    <div class="carousel-item active">
                        <img class="rounded mx-auto d-block card-image  " src="/images/{{this}}">
                    </div>
                    {{else}}
                    <div class="carousel-item">
                        <img class="d-block card-image rounded mx-auto" src="/images/{{this}}">
                    </div>
                    {{/if}}
                    {{/each}}
                </div>
            </div>
            {{else}}
            <p class="lead text-center no-image">No Image</p>
            {{/if}}
            <div class="card-body text-center">
                <p class="lead">Category: <strong>{{category}}</strong></p>
                <a class="chip" href="/stories/user/{{user.id}}">
                    <img src="{{user.image}}">
                    {{user.firstName}} {{user.lastName}}
                </a>
            </div>

            <a href="/stories/show/{{id}}" class="btn btn-light">
                Read more</a>
        </div>
    </div>
    {{else}}
    <p>No stories found</p>
    {{/each}}
</div>

<script>
    $('.card').mouseenter(function () {
        $('.carousel').carousel('pause');
    });

    $('.card').mouseleave(function () {
        $('.carousel').carousel('cycle');
    });
</script>